---
title: Geometric Progression and the Compounding of the Returns
description: Your savings account offers a 1% annual interest! The account balance in 10 years? +10%? Naaaah   
date: 2020-12-06T11:00:00.000Z
topic: mathematics
author: chris
img: /static/fractal-star.png
---

## Compounding of Returns

Let us consider the following scenario. An investment yield an average annual return R of 2% for the last 5 years. If we had invested 100\$ 5 years ago, what would be the outcome of this investment today?

Consider an initial investment amount $P_0 = 100$. After the first year, the outcome would be:

$$
P_1 = 100 + (100 * 0.02) = (100 * 1) + (100 * 0.02) = 100 * (1 + 0.02) = P_0 * 1.02
$$

The outcome after the 2nd year would be:

$$
P_2 = P_1 + (P_1 * 0.02) = P_1 * 1.02
$$

3rd year:

$$
P_3 = P_2 + (P_2 * 0.02) = P_2 * 1.02
$$

(ν-1)th year:

$$
P_{ν-1} = P_{ν-2} + (P_{ν-2} * 0.02) = P_{ν-2} * 1.02
$$

νth year:

$$
P_ν = P_{ν-1} + (P_{ν-1} * 0.02) = P_{ν-1} * 1.02
$$

It becomes obvious from the above that generating each element in the sequence $P_0, P_1, ..., P_{ν-1}, P_ν$ follows a pattern where each occurrence is generated by multiplying the previous number with a constant.

In our case, the constant is the average annual return plus 1 (1+R). If we combine the previous equations in an attempt to formulate a final equation that provides the νth occurrence based on the $P_0$ element then:

$$
P_ν = P_{ν-1} * 1.02 = (P_{ν-2} * 1.02) * 1.02 = P_{ν-2} * 1.02^2 = .... = P_0 * (1 + 0.02)^ν
$$

So, after 5 years we will have $100 * 1.02^{5} = 110.41$!

The generic equation is:

$$
P_ν = P_0 * (1 + R)^ν \qquad (1)
$$

## Geometric Progression

In calculus, a sequence of numbers where each term after the first is found by multiplying the previous one by a fixed, non-one number, called `geometric progression`. The fixed number is called, the `common ratio`.

$$
a, ar, ar^2, ... , ar^{n-1}
$$

where $1+R$ is the `common ratio` and $a$ is the `coefficient`.

Some interesting properties to notice:

* a common ratio greater than 1, will produce exponential growth towards positive infinity!
* a common ratio greater than 0 and up to 1, will produce exponential decay towards zero!

In finance, the periodic reinvestment on a rate is called **Compounding of Returns**.

## From cumulative to periodic returns

Let's see the example above from another angle. Let's say that an investment had a total return over the last 5 years of 10%. What was the average annual return of this investment?

The cumulative return (`pandas.pct_change`) is given by the type:

$$
R_i = \frac{P_i-P_{i-1}}{P_{i-1}} = \frac{P_i}{P_{i-1}} - 1 \qquad (2)
$$

where $P_i$ is the price of the investment at period $i$.

The equation (2) can be written as $P_i = P_{i-1} * (1 + R_i)$. Or $P_{end-of-investment} = P_{start-of-investment} * (1 + R_{total})$.

The equation (1) will take the form,

$$
P_{end-of-investment} = P_{start-of-investment} * (1 + R_{annual})^{5}
$$

Combining them,

$$
1 + R_{total} = (1 + R_{annual})^{5} => R_{annual} = \sqrt[5]{1+R_{total}} - 1
$$

We use ν = 5, due to 5 compounding periods. If instead of annual returns we were asked to find semiannual returns then we would use ν = 10 ($R_{semiannual} = \sqrt[10]{1+R_{total}} - 1$).

Finally,

$$
R_{annual} = \sqrt[5]{1 + 0.1} - 1 = \sqrt[5]{1.1} - 1 = 1.01927 - 1 = 0.01927
$$ 

So, an annual return of 1.9% will produce a 10% return at the end of the 5 years.

To generalize

$$
R_{periodic} = \sqrt[number-of-periods]{1+R_{total}} - 1 \qquad (3)
$$

## Compounding variable returns

It is commonly accepted that returns do not stay the same over periods. For example, the average return of this month is not the same as the one from last month! However, the same principle of compounding applies in this case too. Let's see an example.

An investment yield the following returns for the past couple of months $0.021, 0.032, -0.018, 0.06, -0.043, 0.048$. The total return is the **product** of the individual returns when 1 is added to them:

$$
R = (1 + 0.021) * (1 + 0.032) * (1 - 0.018) * (1 + 0.06) * (1 - 0.043) * (1 + 0.048) = ...
$$

This, resonates with the equation (1) above where for a fixed return we have $R_{total} = (1 + R_{fixed})^{number-of-periods}$
