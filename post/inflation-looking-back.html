<!DOCTYPE html><html lang="en-US"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-180222243-1"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-180222243-1', {
              page_path: window.location.pathname,
            });
          </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Inflation - Looking Back!</title><meta name="description" content="See how the piggy bank :P can digest part of your money."/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="Inflation - Looking Back!"/><meta name="og:description" property="og:description" content="See how the piggy bank :P can digest part of your money."/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Inflation - Looking Back!"/><meta name="twitter:description" content="See how the piggy bank :P can digest part of your money."/><meta name="twitter:creator" content="investingsnipts"/><link rel="icon" type="image/png" href="/static/favicon.ico"/><link rel="apple-touch-icon" href="/static/favicon.ico"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/2d2f87205aa6ef8b4f4a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2d2f87205aa6ef8b4f4a.css" data-n-g=""/><link rel="preload" href="/_next/static/css/276cb3c5109fbc96253b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/276cb3c5109fbc96253b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/68cca870bc3fca5c9cb8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/68cca870bc3fca5c9cb8.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-9b805fa25f3c727dff23.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-eb080e3f091731f228fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" as="script"/><link rel="preload" href="/_next/static/chunks/aafb98ef.d6f2610c02ca1f2f8023.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.8953387921da877f7077.js" as="script"/><link rel="preload" href="/_next/static/chunks/c993a675fc23e2c5b16b0cdfa51e09fd2f5f8f80.7eda6f7f6f606b39097e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8d389892d8851416e9e3.js" as="script"/><link rel="preload" href="/_next/static/chunks/cb1608f2.374587486deb2a784e19.js" as="script"/><link rel="preload" href="/_next/static/chunks/a9a7754c.d9f31489d713bac24f81.js" as="script"/><link rel="preload" href="/_next/static/chunks/60273576.45a211ac3b19a5bdcfc0.js" as="script"/><link rel="preload" href="/_next/static/chunks/28b78d933298d505941537c6c1190f6a19d63af1.41b7ccb1b9a7b85862b6.js" as="script"/><link rel="preload" href="/_next/static/chunks/f485e41bcb118a628b46c21556cf62824a9a6265.b5d54d4427b3ca2aa455.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-c295bfa18e28c0faf5ff.js" as="script"/></head><body><div id="__next"><div class="overflow-hidden items-center justify-center bg-gray-100 max-w-screen-xl mx-auto"><header class="container"><nav class="relative select-none bg-grey lg:flex lg:items-stretch w-full pt-4"><div class="flex flex-no-shrink items-stretch h-12"><a class="flex-no-grow flex-no-shrink relative p-2 leading-normal text-3xl lg:text-5xl no-underline font-semibold flex items-center" href="/">InvestingSnippets</a><button id="hamburgerMenu" type="button" class="block lg:hidden cursor-pointer ml-auto relative w-12 h-12 p-4"><svg id="hamburgerBtn" class="visible fill-current text-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg><svg id="hamburgerClose" class="hidden fill-current text-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"></path></svg></button></div><div class="lg:flex lg:items-stretch lg:flex-no-shrink lg:flex-grow hidden" id="mobileMenu"><div class="lg:flex lg:items-stretch lg:justify-end ml-auto"><a class="flex-no-grow flex-no-shrink relative py-2 px-4 leading-normal font-semibold text-gray-700 no-underline flex items-center hover:bg-grey-dark" href="/topic/mathematics"><span>Mathematics</span></a><a class="flex-no-grow flex-no-shrink relative py-2 px-4 leading-normal font-semibold text-gray-700 no-underline flex items-center hover:bg-grey-dark" href="/topic/automation"><span>Automation</span></a><a class="flex-no-grow flex-no-shrink relative py-2 px-4 leading-normal font-semibold text-gray-700 no-underline flex items-center hover:bg-grey-dark" href="/topic/investing"><span>Investing</span></a></div></div></nav></header><main class="block lg:flex lg:space-x-2 px-2 lg:p-0 mt-10 mb-10"><div class="w-full lg:w-2/3 px-2"><article><header class="mb-8"><p class="text-sm mb-2"><a class="" href="/">Home</a> &gt; <a class="" href="/topic/investing">Investing</a> &gt; </p><h1 class="mb-2 text-3xl lg:text-4xl leading-none font-display font-semibold">Inflation - Looking Back!</h1><p class="text-sm mb-2">June 8, 2021<!-- --> <!-- -->by<!-- --> <!-- -->Chris</p><div class="flex justify-end mt-2 mr-5"><a class="text-gray-600" href="/tag/python"><img class="filter-orange-700 h-4 w-4 m-1 inline-block" alt="python" src="https://www.investingsnippets.com/static/python.svg" data-srcset="https://www.investingsnippets.com/static/python.svg"/>python</a></div><div class="flex justify-end mt-2 mr-5"><a target="_blank" rel="noopener noreferrer" href="https://drive.google.com/file/d/1DUyPzZAVkdg1QMiPNnkbBMB1cu2AT33o/view?usp=sharing"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></div></header><div class="mb-4 prose-lg max-w-none markdown-styles_reactMarkDown__3jmlK"><p>In <a href="/post/inflation-planning-future-cash-flows">Inflation - Planning Forward</a> we picked a static annual inflation rate to plan the financing of future expenses. In this article we will use the inflation historical data to determine how inflation had affected our savings.</p>
<details><summary>Package Installation</summary>
<p>
</p><pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#a9b7c6">%</span><span class="token" style="color:#a9b7c6">%</span><span>capture
</span><span></span><span class="token" style="color:#cc7832">import</span><span> pandas </span><span class="token" style="color:#cc7832">as</span><span> pd
</span><span></span><span class="token" style="color:#cc7832">import</span><span> numpy </span><span class="token" style="color:#cc7832">as</span><span> np
</span><span></span><span class="token" style="color:#cc7832">from</span><span> datetime </span><span class="token" style="color:#cc7832">import</span><span> datetime
</span><span></span><span class="token" style="color:#cc7832">from</span><span> dateutil</span><span class="token" style="color:#a9b7c6">.</span><span>relativedelta </span><span class="token" style="color:#cc7832">import</span><span> relativedelta
</span><span></span><span class="token" style="color:#cc7832">import</span><span> matplotlib</span><span class="token" style="color:#a9b7c6">.</span><span>pyplot </span><span class="token" style="color:#cc7832">as</span><span> plt
</span><span>!pip install </span><span class="token" style="color:#a9b7c6">-</span><span>q requests
</span><span>!pip install </span><span class="token" style="color:#a9b7c6">-</span><span>q pyscbwrapper</span></code></div></pre>
<p></p>
</details>
<p>Let us assume that 10 years ago a person started depositing 500$ of hers/his salary to the bank once a month.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>SAVINGS_PER_MONTH </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">500</span><span>
</span><span></span><span class="token" style="color:#cc7832">def</span><span> </span><span class="token" style="color:#ffc66d">generate_montly_savings_account_balance</span><span class="token" style="color:#a9b7c6">(</span><span>monthly_savings</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>  today </span><span class="token" style="color:#a9b7c6">=</span><span> datetime</span><span class="token" style="color:#a9b7c6">.</span><span>today</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  beginning_of_month </span><span class="token" style="color:#a9b7c6">=</span><span> datetime</span><span class="token" style="color:#a9b7c6">(</span><span>today</span><span class="token" style="color:#a9b7c6">.</span><span>year</span><span class="token" style="color:#a9b7c6">,</span><span> today</span><span class="token" style="color:#a9b7c6">.</span><span>month</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ten_years_ago </span><span class="token" style="color:#a9b7c6">=</span><span> beginning_of_month </span><span class="token" style="color:#a9b7c6">-</span><span> relativedelta</span><span class="token" style="color:#a9b7c6">(</span><span>years</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6897bb">10</span><span class="token" style="color:#a9b7c6">)</span><span>
</span>
<span>  savings_df </span><span class="token" style="color:#a9b7c6">=</span><span> pd</span><span class="token" style="color:#a9b7c6">.</span><span>DataFrame</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>      </span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> pd</span><span class="token" style="color:#a9b7c6">.</span><span>date_range</span><span class="token" style="color:#a9b7c6">(</span><span>start</span><span class="token" style="color:#a9b7c6">=</span><span>ten_years_ago</span><span class="token" style="color:#a9b7c6">,</span><span> end</span><span class="token" style="color:#a9b7c6">=</span><span>beginning_of_month</span><span class="token" style="color:#a9b7c6">,</span><span> closed</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#cc7832">None</span><span class="token" style="color:#a9b7c6">,</span><span> freq</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;MS&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>      </span><span class="token" style="color:#6a8759">&#x27;savings&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> monthly_savings
</span><span>      </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  savings_df </span><span class="token" style="color:#a9b7c6">=</span><span> savings_df</span><span class="token" style="color:#a9b7c6">.</span><span>set_index</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">return</span><span> savings_df
</span>
<span>savings_df </span><span class="token" style="color:#a9b7c6">=</span><span> generate_montly_savings_account_balance</span><span class="token" style="color:#a9b7c6">(</span><span>SAVINGS_PER_MONTH</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_accumulated </span><span class="token" style="color:#a9b7c6">=</span><span> savings_df</span><span class="token" style="color:#a9b7c6">.</span><span>savings</span><span class="token" style="color:#a9b7c6">.</span><span>cumsum</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>current_total </span><span class="token" style="color:#a9b7c6">=</span><span> savings_accumulated</span><span class="token" style="color:#a9b7c6">[</span><span>savings_df</span><span class="token" style="color:#a9b7c6">.</span><span>index</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>savings_plot </span><span class="token" style="color:#a9b7c6">=</span><span> savings_accumulated</span><span class="token" style="color:#a9b7c6">.</span><span>plot</span><span class="token" style="color:#a9b7c6">(</span><span>figsize</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">14</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6897bb">7</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_title</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Deposit account growth&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_xlabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_ylabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Amount&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_plot</span><span class="token" style="color:#a9b7c6">.</span><span>axhline</span><span class="token" style="color:#a9b7c6">(</span><span>current_total</span><span class="token" style="color:#a9b7c6">,</span><span> color</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;g&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> linestyle</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;--&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> label</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;{:0.2f}&#x27;</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">format</span><span class="token" style="color:#a9b7c6">(</span><span>current_total</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>savings_plot</span><span class="token" style="color:#a9b7c6">.</span><span>legend</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>plt</span><span class="token" style="color:#a9b7c6">.</span><span>show</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span></code></div></pre>
<p><div class="w-full mx-auto flex justify-center"><img class="lazyload blur-up" alt="png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAAAklEQVR4AewaftIAAACGSURBVG3BsQ3CMBAF0G/fmSyQyLUXQOlpGI4d2CkM4IYyFO4IEkIkuTsIChIF77n+0u/qpj5glXMORORDCFNKSdUMz3G+s4o2Vaj2WLXbFgtRgxnADthQuLKI4NcshgV5B+fxIQIwEUHNoArAAUwO//Aoeu6605HJ46uU4mOMijc1w20YHi+zQDgYGlrQiwAAAABJRU5ErkJggg==" data-srcset="/_next/static/images/inflation-looking-back_3_0-967e3b12bddc5308341397a6d286ee4e.png"/></div></p>
<p>Next, let&#x27;s fetch the US inflation rates from the <a href="https://www.bls.gov/">U.S. BUREAU OF LABOR STATISTICS</a> and see how it advanced over the last decade.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">def</span><span> </span><span class="token" style="color:#ffc66d">get_us_cpi</span><span class="token" style="color:#a9b7c6">(</span><span>start_year</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;2012&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> end_year </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6a8759">&#x27;2021&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>  </span><span class="token triple-quoted-string" style="color:#6a8759">&#x27;&#x27;&#x27;
</span><span class="token triple-quoted-string" style="color:#6a8759">    from https://www.bls.gov/developers/api_python.htm#python1
</span><span class="token triple-quoted-string" style="color:#6a8759">  &#x27;&#x27;&#x27;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">import</span><span> requests
</span><span>  </span><span class="token" style="color:#cc7832">import</span><span> json
</span><span>  headers </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&#x27;Content-type&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> </span><span class="token" style="color:#6a8759">&#x27;application/json&#x27;</span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span>  data </span><span class="token" style="color:#a9b7c6">=</span><span> json</span><span class="token" style="color:#a9b7c6">.</span><span>dumps</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&quot;seriesid&quot;</span><span class="token" style="color:#a9b7c6">:</span><span> </span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;SUUR0000SA0&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6a8759">&quot;startyear&quot;</span><span class="token" style="color:#a9b7c6">:</span><span>start_year</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&quot;endyear&quot;</span><span class="token" style="color:#a9b7c6">:</span><span>end_year</span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  p </span><span class="token" style="color:#a9b7c6">=</span><span> requests</span><span class="token" style="color:#a9b7c6">.</span><span>post</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;https://api.bls.gov/publicAPI/v1/timeseries/data/&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> data</span><span class="token" style="color:#a9b7c6">=</span><span>data</span><span class="token" style="color:#a9b7c6">,</span><span> headers</span><span class="token" style="color:#a9b7c6">=</span><span>headers</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  json_data </span><span class="token" style="color:#a9b7c6">=</span><span> json</span><span class="token" style="color:#a9b7c6">.</span><span>loads</span><span class="token" style="color:#a9b7c6">(</span><span>p</span><span class="token" style="color:#a9b7c6">.</span><span>text</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi_list </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">for</span><span> series </span><span class="token" style="color:#cc7832">in</span><span> json_data</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;Results&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;series&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>    seriesId </span><span class="token" style="color:#a9b7c6">=</span><span> series</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;seriesID&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>    </span><span class="token" style="color:#cc7832">for</span><span> item </span><span class="token" style="color:#cc7832">in</span><span> series</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;data&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>      year </span><span class="token" style="color:#a9b7c6">=</span><span> item</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;year&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>      period </span><span class="token" style="color:#a9b7c6">=</span><span> item</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;period&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>      value </span><span class="token" style="color:#a9b7c6">=</span><span> item</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;value&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span>
</span>  
<span>      </span><span class="token" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#6a8759">&#x27;M01&#x27;</span><span> </span><span class="token" style="color:#a9b7c6">&lt;=</span><span> period </span><span class="token" style="color:#a9b7c6">&lt;=</span><span> </span><span class="token" style="color:#6a8759">&#x27;M12&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>        datetime_object </span><span class="token" style="color:#a9b7c6">=</span><span> datetime</span><span class="token" style="color:#a9b7c6">.</span><span>strptime</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;{}-{}-01&#x27;</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">format</span><span class="token" style="color:#a9b7c6">(</span><span>year</span><span class="token" style="color:#a9b7c6">,</span><span> period</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">:</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;%Y-%m-%d&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>        value </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#e8bf6a">float</span><span class="token" style="color:#a9b7c6">(</span><span>value</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>        cpi_list</span><span class="token" style="color:#a9b7c6">.</span><span>append</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span>                    </span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> datetime_object</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>                    </span><span class="token" style="color:#6a8759">&#x27;cpi&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span>  </span><span class="token" style="color:#6897bb">0.001</span><span> </span><span class="token" style="color:#cc7832">if</span><span> value </span><span class="token" style="color:#a9b7c6">==</span><span> </span><span class="token" style="color:#6897bb">0.0</span><span> </span><span class="token" style="color:#cc7832">else</span><span> value
</span><span>                  </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi</span><span class="token" style="color:#a9b7c6">=</span><span> pd</span><span class="token" style="color:#a9b7c6">.</span><span>DataFrame</span><span class="token" style="color:#a9b7c6">(</span><span>cpi_list</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">.</span><span>astype</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;datetime64[ns]&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">.</span><span>set_index</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">.</span><span>sort_values</span><span class="token" style="color:#a9b7c6">(</span><span>by</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">return</span><span> cpi
</span>
<span>us_cpi </span><span class="token" style="color:#a9b7c6">=</span><span> get_us_cpi</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>inflation_rate_change_plot </span><span class="token" style="color:#a9b7c6">=</span><span> us_cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;cpi&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">.</span><span>plot</span><span class="token" style="color:#a9b7c6">(</span><span>figsize</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">14</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6897bb">7</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>inflation_rate_change_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_title</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Inflation Monthly&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>inflation_rate_change_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_xlabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>inflation_rate_change_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_ylabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Infaltion Value&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>plt</span><span class="token" style="color:#a9b7c6">.</span><span>show</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span></code></div></pre>
<p><div class="w-full mx-auto flex justify-center"><img class="lazyload blur-up" alt="png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAAAklEQVR4AewaftIAAACGSURBVF3BsQ3CMBAF0O9/jicAbLlOky0QezEHI1EgViBSKqegQUJKSOyjcSTEe2YYhlOM8Yyq73uZpsl2XTejmpf1ZZ1zexE5omrbFpu1KFQVJJ9MKTn8yUWx5AIaoBGiEcKGED65KIoqVAFjAKFBQ+KXvd7uj3DYXSyJzTiO9N4XVDnn9xe4bDSAz9tKNAAAAABJRU5ErkJggg==" data-srcset="/_next/static/images/inflation-looking-back_5_0-2fd889b527f9deaf3a76085bb7890c4c.png"/></div></p>
<p>We will now see how inflation would affect the purchase value of 1$. To do that we will calculate the monthly percentage change and then create what we previously referred to as <a href="/post/from-portfolio-wealth-index-to-index-fund">wealth index</a> of 1$.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">def</span><span> </span><span class="token" style="color:#ffc66d">plot_cpi_on_unit</span><span class="token" style="color:#a9b7c6">(</span><span>cpi</span><span class="token" style="color:#a9b7c6">,</span><span> unit</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;$&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">if</span><span> </span><span class="token" style="color:#6a8759">&#x27;pct_change&#x27;</span><span> </span><span class="token" style="color:#cc7832">not</span><span> </span><span class="token" style="color:#cc7832">in</span><span> cpi</span><span class="token" style="color:#a9b7c6">.</span><span>columns</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>    cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;pct_change&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;cpi&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">.</span><span>pct_change</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span>dropna</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span> 
</span><span>  change_on_unit </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">1</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">+</span><span>cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;pct_change&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span>savings_df</span><span class="token" style="color:#a9b7c6">.</span><span>index</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">:</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span>cumprod</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot </span><span class="token" style="color:#a9b7c6">=</span><span> change_on_unit</span><span class="token" style="color:#a9b7c6">.</span><span>plot</span><span class="token" style="color:#a9b7c6">(</span><span>figsize</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">14</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6897bb">7</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_title</span><span class="token" style="color:#a9b7c6">(</span><span class="token string-interpolation token" style="color:#6a8759">f&quot;How Inflation affects 1 </span><span class="token string-interpolation token interpolation token" style="color:#a9b7c6">{</span><span class="token string-interpolation token interpolation">unit</span><span class="token string-interpolation token interpolation token" style="color:#a9b7c6">}</span><span class="token string-interpolation token" style="color:#6a8759">&quot;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_xlabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot</span><span class="token" style="color:#a9b7c6">.</span><span>set_ylabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token string-interpolation token" style="color:#6a8759">f&quot;Worth of 1 </span><span class="token string-interpolation token interpolation token" style="color:#a9b7c6">{</span><span class="token string-interpolation token interpolation">unit</span><span class="token string-interpolation token interpolation token" style="color:#a9b7c6">}</span><span class="token string-interpolation token" style="color:#6a8759">&quot;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot</span><span class="token" style="color:#a9b7c6">.</span><span>axhline</span><span class="token" style="color:#a9b7c6">(</span><span>change_on_unit</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> color</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;g&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> linestyle</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;--&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> label</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;{:0.2f}&#x27;</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">format</span><span class="token" style="color:#a9b7c6">(</span><span>change_on_unit</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  change_on_unit_plot</span><span class="token" style="color:#a9b7c6">.</span><span>legend</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  plt</span><span class="token" style="color:#a9b7c6">.</span><span>show</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span>
<span>plot_cpi_on_unit</span><span class="token" style="color:#a9b7c6">(</span><span>us_cpi</span><span class="token" style="color:#a9b7c6">,</span><span> unit</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;$&#x27;</span><span class="token" style="color:#a9b7c6">)</span></code></div></pre>
<p><div class="w-full mx-auto flex justify-center"><img class="lazyload blur-up" alt="png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAAAklEQVR4AewaftIAAACMSURBVF3BMQ6CMBQG4L/vtTARDEsH94ZjeABv42E8k4nOjsyENHEpCda+JwMkxu8zU5zOTdNcsBmGwQHgnPMSQlCslvxJlg0fa1efsOlDj52oooiisvSiGKPDH1HFuwhUAccExwTbdV0WVRRRiAJkADIGFRN+2dv98Ty07dUxYTeOI3nvBasigjml+QssdzpX6mvEqgAAAABJRU5ErkJggg==" data-srcset="/_next/static/images/inflation-looking-back_8_0-9904c8457df8b63fee837195c1883da5.png"/></div></p>
<p>What the graph shows above is that buying a product at 1$ in the beginning of 2012, this exact same product would today cost 1.15$. If you had saved the dollar in an account you would today miss 0.15$ to be able to purchase the product. In practice, you have lost 0.15$!</p>
<p>Now that we have the percentage changes of the inflation, lets calculate the total loss of our savings all these years. For each month we add money to the cash account we have to start measuring the impact of inflation from that point on.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">def</span><span> </span><span class="token" style="color:#ffc66d">plot_loss_on_savings</span><span class="token" style="color:#a9b7c6">(</span><span>savings</span><span class="token" style="color:#a9b7c6">,</span><span> cpi</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>  last_valid_index </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">.</span><span>last_valid_index</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  s </span><span class="token" style="color:#a9b7c6">=</span><span> pd</span><span class="token" style="color:#a9b7c6">.</span><span>DataFrame</span><span class="token" style="color:#a9b7c6">(</span><span>columns</span><span class="token" style="color:#a9b7c6">=</span><span>savings</span><span class="token" style="color:#a9b7c6">.</span><span>index</span><span class="token" style="color:#a9b7c6">.</span><span>array</span><span class="token" style="color:#a9b7c6">,</span><span> index</span><span class="token" style="color:#a9b7c6">=</span><span>savings</span><span class="token" style="color:#a9b7c6">.</span><span>index</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">for</span><span> col </span><span class="token" style="color:#cc7832">in</span><span> s</span><span class="token" style="color:#a9b7c6">.</span><span>columns</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>    wealth_index </span><span class="token" style="color:#a9b7c6">=</span><span> savings</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;savings&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span>col</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">*</span><span> </span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">+</span><span>cpi</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;pct_change&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span>col</span><span class="token" style="color:#a9b7c6">:</span><span>last_valid_index</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">.</span><span>cumprod</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>    s</span><span class="token" style="color:#a9b7c6">[</span><span>col</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> wealth_index </span><span class="token" style="color:#a9b7c6">-</span><span> savings</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;savings&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span>col</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>  inf_losses </span><span class="token" style="color:#a9b7c6">=</span><span> s</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">sum</span><span class="token" style="color:#a9b7c6">(</span><span>axis</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax </span><span class="token" style="color:#a9b7c6">=</span><span> inf_losses</span><span class="token" style="color:#a9b7c6">.</span><span>plot</span><span class="token" style="color:#a9b7c6">(</span><span>figsize</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">14</span><span class="token" style="color:#a9b7c6">,</span><span class="token" style="color:#6897bb">7</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>set_title</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Total loss due to inflation&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>set_xlabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>set_ylabel</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;Loss in $&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>axhline</span><span class="token" style="color:#a9b7c6">(</span><span>inf_losses</span><span class="token" style="color:#a9b7c6">[</span><span>last_valid_index</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> color</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;r&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> linestyle</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;--&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> label</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;{:0.2f}&#x27;</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">format</span><span class="token" style="color:#a9b7c6">(</span><span>inf_losses</span><span class="token" style="color:#a9b7c6">[</span><span>last_valid_index</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>legend</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  ax</span><span class="token" style="color:#a9b7c6">.</span><span>plot</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span>
<span>plot_loss_on_savings</span><span class="token" style="color:#a9b7c6">(</span><span>savings_df</span><span class="token" style="color:#a9b7c6">,</span><span> us_cpi</span><span class="token" style="color:#a9b7c6">)</span></code></div></pre>
<p><div class="w-full mx-auto flex justify-center"><img class="lazyload blur-up" alt="png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAAAklEQVR4AewaftIAAACESURBVF3BMQ6CMBQG4N/SlnRk6juAA8dw9UJexYsZdWMkglGJUcNrfVVMB8P3Lfq2XVdVtUHWNI0BoJxzgYgEX68xPLRxjoqyXCFb1jXmkuCmulNnmBlzCQBHAUeBKRS0J8/WWkxSwk8UwcRqhcnIb+jrcD/s9sct/lzOvSLygoxDfH4AjkU1F0NFIS0AAAAASUVORK5CYII=" data-srcset="/_next/static/images/inflation-looking-back_11_0-97d5b32ec03a247797644465773589f1.png"/></div></p>
<p>5349$ is the loss of saving in the bank without investing. That is almost 10% of the total account value!</p>
<h2>Sweden</h2>
<p>Having a special interest in the Swedish market, I will include the code needed to fetch inflation statistics from <a href="https://www.scb.se/en/finding-statistics/statistics-by-subject-area/prices-and-consumption/consumer-price-index/consumer-price-index-cpi/pong/tables-and-graphs/cpi-with-fixed-interest-rate-cpif-cpif-ct-and-cpif-xe/cpif-annual-changes/">SCB</a>.</p>
<pre><div style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#2b2b2b"><code class="language-python" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc7832">def</span><span> </span><span class="token" style="color:#ffc66d">get_swedish_cpi</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>  </span><span class="token triple-quoted-string" style="color:#6a8759">&quot;&quot;&quot; Returns the CPI as a monthly percentage change.
</span><span class="token triple-quoted-string" style="color:#6a8759">  For more information: https://github.com/kirajcg/pyscbwrapper/blob/master/pyscbwrapper.ipynb
</span><span class="token triple-quoted-string" style="color:#6a8759">  &quot;&quot;&quot;</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">import</span><span> re
</span><span>  </span><span class="token" style="color:#cc7832">from</span><span> pyscbwrapper </span><span class="token" style="color:#cc7832">import</span><span> SCB
</span><span>  scb </span><span class="token" style="color:#a9b7c6">=</span><span> SCB</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;en&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;PR&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;PR0101&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;PR0101A&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;KPIFFMP&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  scb</span><span class="token" style="color:#a9b7c6">.</span><span>set_query</span><span class="token" style="color:#a9b7c6">(</span><span>month</span><span class="token" style="color:#a9b7c6">=</span><span>scb</span><span class="token" style="color:#a9b7c6">.</span><span>get_variables</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;month&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  data </span><span class="token" style="color:#a9b7c6">=</span><span> scb</span><span class="token" style="color:#a9b7c6">.</span><span>get_data</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;data&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>  my_list </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">for</span><span> obj </span><span class="token" style="color:#cc7832">in</span><span> data</span><span class="token" style="color:#a9b7c6">:</span><span>
</span><span>    date_scb_formatted </span><span class="token" style="color:#a9b7c6">=</span><span> obj</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;key&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">.</span><span>strip</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>  </span><span class="token" style="color:#808080"># this looks like &#x27;2020M06&#x27;</span><span>
</span><span>    year_month_search </span><span class="token" style="color:#a9b7c6">=</span><span> re</span><span class="token" style="color:#a9b7c6">.</span><span>search</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;^(\d{4})M(\d{2})$&#x27;</span><span class="token" style="color:#a9b7c6">,</span><span> date_scb_formatted</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>    datetime_object </span><span class="token" style="color:#a9b7c6">=</span><span> datetime</span><span class="token" style="color:#a9b7c6">.</span><span>strptime</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;{}-{}-01&#x27;</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#e8bf6a">format</span><span class="token" style="color:#a9b7c6">(</span><span>year_month_search</span><span class="token" style="color:#a9b7c6">.</span><span>group</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">,</span><span> year_month_search</span><span class="token" style="color:#a9b7c6">.</span><span>group</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">2</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token" style="color:#6a8759">&#x27;%Y-%m-%d&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>    my_list</span><span class="token" style="color:#a9b7c6">.</span><span>append</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">{</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> datetime_object</span><span class="token" style="color:#a9b7c6">,</span><span>
</span><span>                    </span><span class="token" style="color:#6a8759">&#x27;pct_change&#x27;</span><span class="token" style="color:#a9b7c6">:</span><span> </span><span class="token" style="color:#e8bf6a">float</span><span class="token" style="color:#a9b7c6">(</span><span>obj</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6a8759">&#x27;values&#x27;</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">/</span><span class="token" style="color:#6897bb">100</span><span>
</span><span>                    </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi</span><span class="token" style="color:#a9b7c6">=</span><span> pd</span><span class="token" style="color:#a9b7c6">.</span><span>DataFrame</span><span class="token" style="color:#a9b7c6">(</span><span>my_list</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  cpi </span><span class="token" style="color:#a9b7c6">=</span><span> cpi</span><span class="token" style="color:#a9b7c6">.</span><span>set_index</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6a8759">&#x27;date&#x27;</span><span class="token" style="color:#a9b7c6">)</span><span>
</span><span>  </span><span class="token" style="color:#cc7832">return</span><span> cpi
</span>
<span>sw_cpi </span><span class="token" style="color:#a9b7c6">=</span><span> get_swedish_cpi</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#a9b7c6">)</span><span>
</span>
<span>plot_cpi_on_unit</span><span class="token" style="color:#a9b7c6">(</span><span>sw_cpi</span><span class="token" style="color:#a9b7c6">,</span><span> unit</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6a8759">&#x27;SEK&#x27;</span><span class="token" style="color:#a9b7c6">)</span></code></div></pre>
<p><div class="w-full mx-auto flex justify-center"><img class="lazyload blur-up" alt="png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAAAklEQVR4AewaftIAAACSSURBVG3BMQ6CQBBA0T+7i4TChoRQmFAajuENvIq38WTa0hhCRKMUaBB2Vgu08j2pm3qbpumOWVVVC0CstWNRFKoh8BzG3sVRvIqjeMOsXJd8DaMHgWXi7qbrOscfw6REzpBEFiOCy7LsNfmAEjAiEMCrsnAWEX7cqWkPt+txb0TwGrBGuLRnk+e58uFV6fv+8QaPvTlYqWFXTgAAAABJRU5ErkJggg==" data-srcset="/_next/static/images/inflation-looking-back_16_0-17467adf64d0141d306edf11d1d3b508.png"/></div></p></div><hr class="mt-4"/><footer></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/inflation-planning-future-cash-flows"><!-- --> <!-- -->Inflation - Planning Forward!</a><div></div></nav><div shortname="investingsnippets" config="[object Object]" id="disqus_thread"></div></div><div class="w-full lg:w-1/3 px-2"><div class="border border-dotted mt-4 visible lg:invisible lg:mt-0"></div><div class="my-4 lg:mt-0"><content><h5 class="font-semibold text-lg uppercase text-gray-700">About<!-- --> <!-- -->InvestingSnippets</h5><div class="flex-auto flex-no-wrap flex-shrink-0 text-center pt-5"><a href="https://twitter.com/investingsnipts" class="inline-block hover:text-blue-700 no-label px-2" target="_blank" rel="noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="25px"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://github.com/investingsnippets" class="inline-block hover:text-blue-700 no-label px-2" target="_blank" rel="noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="25px"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://www.linkedin.com/in/investingsnippets/" class="inline-block hover:text-blue-700 no-label px-2" target="_blank" rel="noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="25px"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div><div class="flex items-center my-5"><p class="text-base leading-7">Driven by my passion to always dive deep in new knowledge, I started this blog as an attempt to give my own simplified view on how I apply my Software Engineering skills and background in Mathematics to Investing! NO financial advice or consulting is provided! I use python and try to automate as much as possible.</p></div><div class="flex"><a href="https://twitter.com/investingsnipts" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false"> </a></div></content></div><div class="border border-dotted"></div><div class="my-2 lg:my-4"><content><h5 class="font-semibold text-lg uppercase text-gray-700 mb-2"> Topics </h5><ul><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/topic/investing"><span>Investing</span><span class="text-gray-500 ml-auto">9<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/topic/mathematics"><span>Mathematics</span><span class="text-gray-500 ml-auto">4<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/topic/automation"><span>Automation</span><span class="text-gray-500 ml-auto">2<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li></ul></content></div><div class="border border-dotted"></div><div class="my-2 lg:my-4"><content><h5 class="font-semibold text-lg uppercase text-gray-700 mb-2"> Popular Tags </h5><ul><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/tag/python"><div class="filter-orange-700 h-4 w-4 mr-3 inline-block"><img class="lazyload blur-up" alt="python" data-srcset="https://www.investingsnippets.com/static/python.svg"/></div><span>python</span><span class="text-gray-500 ml-auto">11<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/tag/statistics"><div class="filter-orange-700 h-4 w-4 mr-3 inline-block"><img class="lazyload blur-up" alt="statistics" data-srcset="https://www.investingsnippets.com/static/statistics.svg"/></div><span>statistics</span><span class="text-gray-500 ml-auto">4<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li><li class="p-1 py-4 border-b border-t border-white hover:border-gray-200 transition duration-300"><a class="flex items-center text-gray-600 cursor-pointer" href="/tag/cryptos"><div class="filter-orange-700 h-4 w-4 mr-3 inline-block"><img class="lazyload blur-up" alt="cryptos" data-srcset="https://www.investingsnippets.com/static/bitcoin.svg"/></div><span>cryptos</span><span class="text-gray-500 ml-auto">1<!-- --> <!-- -->articles</span><i class="text-gray-500 bx bx-right-arrow-alt ml-1"></i></a></li></ul></content></div><div class="border border-dotted"></div><div class="my-2 lg:my-4"><content><h5 class="font-semibold text-lg uppercase text-gray-700 mb-2"> Subscribe </h5><p class="text-gray-600">Receive the next blog article directly to your email!</p><form action="https://tinyletter.com/[object Object]" method="post" target="popupwindow"><input type="email" name="email" id="tlemail" title="Email" required="" placeholder="your email address" class="text-gray-700 bg-gray-100 rounded-t hover:outline-none p-2 w-full mt-4 border outline-none"/><input type="hidden" value="1" name="embed"/><button type="submit" class="px-4 py-2 bg-orange-700 text-gray-200 rounded-b w-full capitalize tracking-wide">Subscribe</button></form><p class="text-gray-600 pt-2 text-xs text-center">or, follow the<!-- --> <a href="/feed.xml" class="inline-block hover:text-blue-700 no-label px-2" target="_blank" rel="noreferrer"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="10px"><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg></a></p></content></div><div class="border border-dotted invisible lg:visible"></div></div></main><footer class="border-t py-12 px-2"><div class="flex pb-4"><div class="flex-auto"><h6><a class="font-semibold text-gray-700 mb-4 no-underline" href="/">Home</a></h6></div><div class="flex-auto"><h6><a class="font-semibold text-gray-700 mb-4 no-underline" href="/terms/general-terms">Terms</a></h6></div></div><div class="text-sm my-2 leading-4 text-gray-600">The content, opinions and conclusions on this website are NOT to be construed as financial advice. I always recommend contacting a licensed independent financial advisor. InvestingSnippets assumes no responsibility for any losses, costs or other consequences that may arise from actions or measures taken based on the content of the website. Investing in financial instruments, securities and mutual funds always involves a risk. The instruments can both increase and decrease in value, also as a result of changes in the exchange rate. It is not certain that you will get back the invested capital. Historical returns are no guarantee of future returns.</div><div class="my-2 text-sm text-gray-600">Copyright <!-- --> <!-- -->2021<!-- -->,<!-- --> <!-- -->InvestingSnippets</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"frontmatter":{"title":"Inflation - Looking Back!","description":"See how the piggy bank :P can digest part of your money.","date":"June 8, 2021","topic":{"id":"investing","name":"Investing","image":"investing.png","description":"The piggy bank digests a good amount of the savings! There is only one way to get away ... investing. BUT, there is a hidden enemy, Speculation!","color":"bg-green-300"},"tags":[{"id":"python","name":"python","image":"python-header.png","description":"Python is very handy in investing","color":"bg-green-300","icon":"python.svg"}],"author":{"id":"chris","name":"Chris","image":"https://s.gravatar.com/avatar/db809ecfa64d56da4bd9704c8393005a?s=80","description":"Software Engineer, passionate about ..."},"img":"/static/no-piggy-bank.png","colab":"https://drive.google.com/file/d/1DUyPzZAVkdg1QMiPNnkbBMB1cu2AT33o/view?usp=sharing"},"post":{"content":"\nIn [Inflation - Planning Forward](/post/inflation-planning-future-cash-flows) we picked a static annual inflation rate to plan the financing of future expenses. In this article we will use the inflation historical data to determine how inflation had affected our savings. \n\n\n\u003cdetails\u003e\u003csummary\u003ePackage Installation\u003c/summary\u003e\n\u003cp\u003e\n\n```python\n%%capture\nimport pandas as pd\nimport numpy as np\nfrom datetime import datetime\nfrom dateutil.relativedelta import relativedelta\nimport matplotlib.pyplot as plt\n!pip install -q requests\n!pip install -q pyscbwrapper\n```\n\n\u003c/p\u003e\n\u003c/details\u003e\n\nLet us assume that 10 years ago a person started depositing 500\\$ of hers/his salary to the bank once a month.\n\n\n```python\nSAVINGS_PER_MONTH = 500\ndef generate_montly_savings_account_balance(monthly_savings):\n  today = datetime.today()\n  beginning_of_month = datetime(today.year, today.month, 1)\n  ten_years_ago = beginning_of_month - relativedelta(years=10)\n\n  savings_df = pd.DataFrame({\n      'date': pd.date_range(start=ten_years_ago, end=beginning_of_month, closed=None, freq='MS'),\n      'savings': monthly_savings\n      })\n  savings_df = savings_df.set_index(['date'])\n  return savings_df\n\nsavings_df = generate_montly_savings_account_balance(SAVINGS_PER_MONTH)\nsavings_accumulated = savings_df.savings.cumsum()\ncurrent_total = savings_accumulated[savings_df.index[-1]]\nsavings_plot = savings_accumulated.plot(figsize=(14,7))\nsavings_plot.set_title('Deposit account growth')\nsavings_plot.set_xlabel('Date')\nsavings_plot.set_ylabel('Amount')\nsavings_plot.axhline(current_total, color='g', linestyle='--', label='{:0.2f}'.format(current_total))\nsavings_plot.legend()\nplt.show()\n```\n\n![png](inflation-looking-back/inflation-looking-back_3_0.png)\n\nNext, let's fetch the US inflation rates from the [U.S. BUREAU OF LABOR STATISTICS](https://www.bls.gov/) and see how it advanced over the last decade.\n\n```python\ndef get_us_cpi(start_year='2012', end_year = '2021'):\n  '''\n    from https://www.bls.gov/developers/api_python.htm#python1\n  '''\n  import requests\n  import json\n  headers = {'Content-type': 'application/json'}\n  data = json.dumps({\"seriesid\": ['SUUR0000SA0'],\"startyear\":start_year, \"endyear\":end_year})\n  p = requests.post('https://api.bls.gov/publicAPI/v1/timeseries/data/', data=data, headers=headers)\n  json_data = json.loads(p.text)\n  cpi_list = []\n  for series in json_data['Results']['series']:\n    seriesId = series['seriesID']\n    for item in series['data']:\n      year = item['year']\n      period = item['period']\n      value = item['value']\n  \n      if 'M01' \u003c= period \u003c= 'M12':\n        datetime_object = datetime.strptime('{}-{}-01'.format(year, period[1:]), '%Y-%m-%d')\n        value = float(value)\n        cpi_list.append({\n                    'date': datetime_object,\n                    'cpi':  0.001 if value == 0.0 else value\n                  })\n  cpi= pd.DataFrame(cpi_list)\n  cpi['date'] = cpi['date'].astype('datetime64[ns]')\n  cpi = cpi.set_index('date')\n  cpi = cpi.sort_values(by='date')\n  return cpi\n\nus_cpi = get_us_cpi()\ninflation_rate_change_plot = us_cpi['cpi'].plot(figsize=(14,7))\ninflation_rate_change_plot.set_title('Inflation Monthly')\ninflation_rate_change_plot.set_xlabel('Date')\ninflation_rate_change_plot.set_ylabel('Infaltion Value')\nplt.show()\n```\n\n![png](inflation-looking-back/inflation-looking-back_5_0.png)\n    \nWe will now see how inflation would affect the purchase value of 1\\$. To do that we will calculate the monthly percentage change and then create what we previously referred to as [wealth index](/post/from-portfolio-wealth-index-to-index-fund) of 1\\$.\n\n\n```python\ndef plot_cpi_on_unit(cpi, unit='$'):\n  if 'pct_change' not in cpi.columns:\n    cpi['pct_change'] = cpi['cpi'].pct_change().dropna() \n  change_on_unit = 1 * (1+cpi['pct_change'][savings_df.index[0]:]).cumprod()\n  change_on_unit_plot = change_on_unit.plot(figsize=(14,7))\n  change_on_unit_plot.set_title(f\"How Inflation affects 1 {unit}\")\n  change_on_unit_plot.set_xlabel('Date')\n  change_on_unit_plot.set_ylabel(f\"Worth of 1 {unit}\")\n  change_on_unit_plot.axhline(change_on_unit[-1], color='g', linestyle='--', label='{:0.2f}'.format(change_on_unit[-1]))\n  change_on_unit_plot.legend()\n  plt.show()\n\nplot_cpi_on_unit(us_cpi, unit='$')\n```\n\n![png](inflation-looking-back/inflation-looking-back_8_0.png)\n\nWhat the graph shows above is that buying a product at 1\\$ in the beginning of 2012, this exact same product would today cost 1.15\\$. If you had saved the dollar in an account you would today miss 0.15\\$ to be able to purchase the product. In practice, you have lost 0.15\\$!\n\nNow that we have the percentage changes of the inflation, lets calculate the total loss of our savings all these years. For each month we add money to the cash account we have to start measuring the impact of inflation from that point on.\n\n```python\ndef plot_loss_on_savings(savings, cpi):\n  last_valid_index = cpi.last_valid_index()\n  s = pd.DataFrame(columns=savings.index.array, index=savings.index)\n  for col in s.columns:\n    wealth_index = savings['savings'][col] * (1+cpi['pct_change'][col:last_valid_index]).cumprod()\n    s[col] = wealth_index - savings['savings'][col]\n  inf_losses = s.sum(axis=1)\n  ax = inf_losses.plot(figsize=(14,7))\n  ax.set_title('Total loss due to inflation')\n  ax.set_xlabel('Date')\n  ax.set_ylabel('Loss in $')\n  ax.axhline(inf_losses[last_valid_index], color='r', linestyle='--', label='{:0.2f}'.format(inf_losses[last_valid_index]))\n  ax.legend()\n  ax.plot()\n\nplot_loss_on_savings(savings_df, us_cpi)\n```\n\n![png](inflation-looking-back/inflation-looking-back_11_0.png)\n    \n\n5349\\$ is the loss of saving in the bank without investing. That is almost 10% of the total account value!\n\n## Sweden\n\nHaving a special interest in the Swedish market, I will include the code needed to fetch inflation statistics from [SCB](https://www.scb.se/en/finding-statistics/statistics-by-subject-area/prices-and-consumption/consumer-price-index/consumer-price-index-cpi/pong/tables-and-graphs/cpi-with-fixed-interest-rate-cpif-cpif-ct-and-cpif-xe/cpif-annual-changes/).\n\n\n```python\ndef get_swedish_cpi():\n  \"\"\" Returns the CPI as a monthly percentage change.\n  For more information: https://github.com/kirajcg/pyscbwrapper/blob/master/pyscbwrapper.ipynb\n  \"\"\"\n  import re\n  from pyscbwrapper import SCB\n  scb = SCB('en', 'PR', 'PR0101', 'PR0101A', 'KPIFFMP')\n  scb.set_query(month=scb.get_variables()['month'])\n  data = scb.get_data()['data']\n  my_list = []\n  for obj in data:\n    date_scb_formatted = obj['key'][0].strip()  # this looks like '2020M06'\n    year_month_search = re.search('^(\\d{4})M(\\d{2})$', date_scb_formatted)\n    datetime_object = datetime.strptime('{}-{}-01'.format(year_month_search.group(1), year_month_search.group(2)), '%Y-%m-%d')\n    my_list.append({'date': datetime_object,\n                    'pct_change': float(obj['values'][0])/100\n                    })\n  cpi= pd.DataFrame(my_list)\n  cpi = cpi.set_index('date')\n  return cpi\n\nsw_cpi = get_swedish_cpi()\n\nplot_cpi_on_unit(sw_cpi, unit='SEK')\n```\n   \n![png](inflation-looking-back/inflation-looking-back_16_0.png)\n","excerpt":""},"previousPost":{"slug":"inflation-planning-future-cash-flows","frontmatter":{"title":"Inflation - Planning Forward!","description":"How to plan for future cash flows taking into account inflation, taxes and fees.","date":"May 23, 2021","topic":{"id":"investing","name":"Investing","image":"investing.png","description":"The piggy bank digests a good amount of the savings! There is only one way to get away ... investing. BUT, there is a hidden enemy, Speculation!","color":"bg-green-300"},"tags":[{"id":"python","name":"python","image":"python-header.png","description":"Python is very handy in investing","color":"bg-green-300","icon":"python.svg"}],"author":{"id":"chris","name":"Chris","image":"https://s.gravatar.com/avatar/db809ecfa64d56da4bd9704c8393005a?s=80","description":"Software Engineer, passionate about ..."},"img":"/static/inflation.jpeg","colab":"https://drive.google.com/file/d/13aiLUQUIXhfjfnO_20U4Dap0tsfRiF-B/view?usp=sharing"},"excerpt":"","content":"\nInflation is the reason behind the erosion of the value of money over time. 1\\$ today is more valuable than 1\\$ after 5 years (given a positive Inflation rate). I will not get into the details of what inflation is, since there is lots of literature around that.\n\nIn this article I will showcase how to plan the financing of future expenses by including inflation, taxes on earnings and annual fees.\n\nLet's see that with an example. Let's assume that a person decides a job break for 3 years. Estimates his/her monthly expenses to be 300\\$. What is the initial amount of money the person needs to have to be able to fulfill their goal?\n\nThe quick response to that is $3 * 12 * 300 = 10800$\\$! but that is not actually true due to the inflation. Let's (for the sake of the example) say that the inflation is 2% per year. That means that 1\\$ today will be valued at $1*\\frac{1}{1 + .02}=0.9804$\\$ in one year from now.\n\nSo, for the first year, the person will pay 3600\\$ but the actual cost of 3600\\$ today is $3600*(1+.02)^1 =3672$\\$. That means that there are $3672-3600=72$\\$ that are missing and should be added to the initial amount. The second year the person will need to pay 3600 again, but the value today is $3600*(1+.02)^2=3745.44$\\$. The third year, the situation is the same and the calculated value for the 3600\\$ would today be $3600*(1+.02)^3=3820.348$\\$.\n\n\u003e Note: the notation $(1+i)^n$ where i is the annual inflation rate and n is the periods in years, is something we discussed in the [Geometric Progression and the Compounding of the Returns](/post/geometric-progression-and-compounding-of-returns) article. Think of inflation as compounding with negative rate.\n\nSo far, the deficit for the first year is 72, for the second year is 145 and for the third year is 220. A total of 437\\$ needs to be added to our initial thought of 10800!\n\nThe example above can easily be extended to loan payments, house rent or even pension forecasting.\n\nLet's get into code and replicate the scenario above.\n\n\u003cdetails\u003e\u003csummary\u003ePackage Installation\u003c/summary\u003e\n\u003cp\u003e\n\n```python\n%%capture\nimport pandas as pd\nimport numpy as np\nimport ipywidgets as widgets\nfrom IPython.display import display\n%matplotlib inline\n```\n\n\u003c/p\u003e\n\u003c/details\u003e\n\n```python\nmonthly_liabilities = 300\nyears = 3\nannual_liabilities = 12 * monthly_liabilities\ninflation_rate = 0.02\nliabilities = pd.Series(data=[annual_liabilities for i in range(years)], index=[i+1 for i in range(years)])\n\ndef liabilities_inflated(liabilities, inflation_rate):\n  years = liabilities.index\n  inflation_over_years = pd.Series(data=(1+inflation_rate)**years, index=years)\n  return liabilities * inflation_over_years\n\ninflated_liabilities = liabilities_inflated(liabilities, inflation_rate)\nprint(f\"Liabilities per year: {list(liabilities.values)}, \\\n        \\nInflated liabilities: {list(inflated_liabilities.values)}, \\\n        \\nTotal amount needed today: {inflated_liabilities.sum():.2f}, \\\n        \\nNo inflation case: {liabilities.sum():.2f}\")\n```\n    Liabilities per year: [3600, 3600, 3600],         \n    Inflated liabilities: [3672.0, 3745.44, 3820.3488000000007],         \n    Total amount needed today: 11237.79,         \n    No inflation case: 10800.00\n\n\n## Balancing inflation through investing\n\nInflation is eroding the value of money when they stand still! However, a balanced situation can be achieved if the money is invested to something that yields a return equal (or even better, more) than the inflation rate. There are several options to that, from 0 risk saving accounts that pay an interest, to a type of bond that increases the risk a bit and gives a better return (or even inflation-adjusted bonds), to more risky assets like equity funds that might yield an even better return.\n\nIn any case, we should take into account the taxes on profits and the administration fees each investment scenario requires.\n\nLet's go back to our example and say that we found a savings account that pays 2% annually in interest without fees and taxes. That would mean that we could invest 10800 to this account today and each year pay out the bill.\n\nBut what if there was a 10% tax on the profits from this interest? How much money would we need today to start with?\n\n```python\ninvestment_annual_return = 0.02\ninvestment_profit_tax = 0.1\n```\n\n```python\ndef discount(t, r, earnings_tax):\n  \"\"\"\n    Computes the amount needed today which when invested for t periods with\n    an r return per period and earning_tax on the profits, will equal to 1$  \n  \"\"\"\n  return (1 + r - r*earnings_tax)**-t \n\ndef present_value(liabilities, return_annual, earnings_tax):\n  \"\"\"\n    Given a list of liabilities, an annual return and tax rate on earnings,\n    returns the amount of money needed today.\n  \"\"\"\n  dates = liabilities.index\n  discounts = discount(dates, return_annual, earnings_tax)\n  return (discounts * liabilities).sum()\n```\n\n```python\npresent_value(inflated_liabilities, investment_annual_return, investment_profit_tax)\n```\n    10842.491757684631\n\n\nMoving forward, lets say that instead of a savings account we invest in funds that have an annual return of 2%, a profit tax of 10% and an annual administration fee of 0.5% on the total invested amount.\n\nWhat should the initial investment be?\n\n```python\nannual_fee = .005 # percentage of total amount per year\n```\n\n```python\ndef present_value_with_fees(liabilities, return_annual, earnings_tax, annual_fee):\n  dates = liabilities.index\n  discounts = discount(dates, return_annual, earnings_tax)\n  liabilities_with_fees = [liabilities[len(dates) +1 - i] * (1-annual_fee)**-i for i in list(dates)[::-1]]\n  return ((discounts * liabilities_with_fees).values).sum()\n```\n\n```python\npresent_value_with_fees(inflated_liabilities, investment_annual_return, investment_profit_tax, annual_fee)\n```\n    10951.755210394398\n\nIt becomes apparent that taxes and fees play an important role in calculating future cash flows.\n\n## The Funding Ratio\n\nThe funding ratio is a percentage that shows how much our current assets can contribute to future cash flows. A 100% funding ratio means that the initial amount of assets will be just enough to fulfill our goals. A ratio below 100% means that we will need more assets to cover for the future flows and a ratio more than 100% means that we are overfunded and as such we have a surplus of money we can use to fund other goals.\n\n\n```python\ndef funding_ratio(current_assets_value, liabilities, return_annual, earnings_tax, annual_fee):\n  return 100*current_assets_value/present_value_with_fees(liabilities, return_annual, earnings_tax, annual_fee)\n\ndef show_funding_ratio(monthly_liabilities, years, inflation_rate, current_assets_value, return_annual, earnings_tax, annual_fee):\n  annual_liabilities = 12 * monthly_liabilities\n  liabilities = pd.Series(data=[annual_liabilities for i in range(years)], index=[i+1 for i in range(years)])\n  inflated_liabilities = liabilities_inflated(liabilities, inflation_rate)\n  fr = funding_ratio(current_assets_value, inflated_liabilities, return_annual, earnings_tax, annual_fee)\n  print(f'{fr:.2f}')\n```\n\n```python\nfunding_ratio(10951.76, inflated_liabilities, investment_annual_return, investment_profit_tax, annual_fee)\n```\n    100.00004373368022\n\n\nBelow I have included a widget which helps me plan for my future goals. I will try to have it as an HTML widget at some point but for the ones who are interested try the [colab](https://drive.google.com/file/d/13aiLUQUIXhfjfnO_20U4Dap0tsfRiF-B/view?usp=sharing) representation of this article. \n\n```python\ncontrols = widgets.interactive(show_funding_ratio,\n                               monthly_liabilities = widgets.IntSlider(min=100, max=100000, step=100, value=300),\n                               years = widgets.IntSlider(min=3, max=100, step=1, value=3),\n                               inflation_rate = widgets.FloatSlider(min=0.01, max=0.3, step=.01, value=.02),\n                               current_assets_value = widgets.IntSlider(min=10000, max=30000000, step=1000, value=10800),\n                               return_annual = widgets.FloatSlider(min=0.01, max=0.2, step=.01, value=.08),\n                               earnings_tax = widgets.FloatSlider(min=0.1, max=.5, step=.02, value=.3),\n                               annual_fee = widgets.FloatSlider(min=0.01, max=.05, step=.01, value=.03))\ndisplay(controls)\n```\n\nEnjoy!"},"nextPost":null},"tags":[{"id":"python","name":"python","image":"python-header.png","description":"Python is very handy in investing","color":"bg-green-300","icon":"python.svg","slug":"python","count":11},{"id":"statistics","name":"statistics","image":"statistics.jpg","description":"Statistics is the discipline that concerns the collection, organization, analysis, interpretation and presentation of data. - Wikipedia","color":"bg-green-300","icon":"statistics.svg","slug":"statistics","count":4},{"id":"cryptos","name":"cryptos","image":"bitcoin.png","description":"The amazing world of Blockchain opens one more chapter in the Investing.","color":"bg-green-300","icon":"bitcoin.svg","slug":"cryptos","count":1}],"sortedTopics":[{"id":"investing","name":"Investing","image":"investing.png","description":"The piggy bank digests a good amount of the savings! There is only one way to get away ... investing. BUT, there is a hidden enemy, Speculation!","color":"bg-green-300","slug":"investing","count":9},{"id":"mathematics","name":"Mathematics","image":"mathematics.png","description":"Investing, as part of the Science of Finance, is subject to the lows of Mathematics!","color":"bg-green-300","slug":"mathematics","count":4},{"id":"automation","name":"Automation","image":"automation.jpg","description":"Spending time to do the same thing over and over again is tedious! Thus, I like to automate as much as possible.","color":"bg-green-300","slug":"automation","count":2}],"allTopics":[{"id":"mathematics","name":"Mathematics","image":"mathematics.png","description":"Investing, as part of the Science of Finance, is subject to the lows of Mathematics!","color":"bg-green-300"},{"id":"automation","name":"Automation","image":"automation.jpg","description":"Spending time to do the same thing over and over again is tedious! Thus, I like to automate as much as possible.","color":"bg-green-300"},{"id":"investing","name":"Investing","image":"investing.png","description":"The piggy bank digests a good amount of the savings! There is only one way to get away ... investing. BUT, there is a hidden enemy, Speculation!","color":"bg-green-300"}],"slug":"inflation-looking-back"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"inflation-looking-back"},"buildId":"YmTWC-yKv2ssf5LnKcTvj","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-6d6446214035a37ee7d9.js"></script><script src="/_next/static/chunks/main-9b805fa25f3c727dff23.js" async=""></script><script src="/_next/static/chunks/webpack-eb080e3f091731f228fb.js" async=""></script><script src="/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" async=""></script><script src="/_next/static/chunks/aafb98ef.d6f2610c02ca1f2f8023.js" async=""></script><script src="/_next/static/chunks/commons.8953387921da877f7077.js" async=""></script><script src="/_next/static/chunks/c993a675fc23e2c5b16b0cdfa51e09fd2f5f8f80.7eda6f7f6f606b39097e.js" async=""></script><script src="/_next/static/chunks/pages/_app-8d389892d8851416e9e3.js" async=""></script><script src="/_next/static/chunks/cb1608f2.374587486deb2a784e19.js" async=""></script><script src="/_next/static/chunks/a9a7754c.d9f31489d713bac24f81.js" async=""></script><script src="/_next/static/chunks/60273576.45a211ac3b19a5bdcfc0.js" async=""></script><script src="/_next/static/chunks/28b78d933298d505941537c6c1190f6a19d63af1.41b7ccb1b9a7b85862b6.js" async=""></script><script src="/_next/static/chunks/f485e41bcb118a628b46c21556cf62824a9a6265.b5d54d4427b3ca2aa455.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-c295bfa18e28c0faf5ff.js" async=""></script><script src="/_next/static/YmTWC-yKv2ssf5LnKcTvj/_buildManifest.js" async=""></script><script src="/_next/static/YmTWC-yKv2ssf5LnKcTvj/_ssgManifest.js" async=""></script></body></html>